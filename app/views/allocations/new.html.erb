<div id="new-allocation">
    <h1>FILTROS</h1>

<table class="table">
    <tr>
      <%= form_tag(allocations_new_path, :method => :get) do %>
        <td>
          <%= label_tag(:capacity_filter, "Capacidade") %>
         <%= select_tag(:capacity_filter, options_for_select([
             ['0-50', "0-50"],
             ['50-100', "50-100"],
             ['100-150', "100-150"]], params[:capacity_filter]),
             include_blank: 'Escolha uma capacidade', class: 'select-filter')  %>
        </td>
        <td>
        <%= label_tag(:resources_filter, "Recurso") %>
        <%= select_tag(:resources_filter, options_for_select([ 
            ['Laboratorio Químico', "Laboratorio Químico"], 
            ['Retroprojetor', "Retroprojetor"],
            ['Computadores', "Computadores"],
            ['Quadro Negro', "Quadro Negro"],
            ['Bancadas', "Bancadas"],
            ['Carteiras', "Carteiras"],
            ['Ar Condicionado', "Ar Condicionado"]], params[:resources_filter]), 
            include_blank: 'Escolha uma recurso', class: 'select-filter')  %>
        </td>
        <td>
          <%= label_tag(:building_filter, "Prédio") %>
          <%= select_tag(:building_filter, options_for_select(@buildings.map{ |building| [building.name, building.id]}, 
          params[:building_filter]), include_blank: 'Escolha um prédio', class: 'select-filter') %>
        </td>
        <tr>
          <td>
            <%= label_tag(:day_filter, "Dias da Semana") %>
            <%= select_tag(:day_filter, options_for_select(@days, params[:day_filter]),
            include_blank: 'Escolha um dia da semana', class: 'select-filter') %>
          </td>  
          <td>
            <%= label_tag(:schedule_filter, "Horário") %>
            <%= select_tag(:schedule_filter, options_for_select(@hours, params[:schedule_filter]), 
            include_blank: 'Escolha um horário', class: 'select-filter') %>
          </td>  
          <td>
            <%= label_tag(:room_filter, "Sala") %>
            <%= select_tag(:room_filter, options_for_select(@main_rooms.map{ |room| [room.name, room.id] }, 
            params[:room_filter]), include_blank: 'Escolha uma sala', class: 'select-filter') %>
          </td>     
        </tr> 
        <tr>
        <td></td>
        <td></td>
         <td>
            <%= submit_tag "Filtrar", name: nil, class:'btn btn-primary pull-right button-filter' %> 
          </td>
        </tr>
      <% end %>
    </tr>
  </table> 

  <h1>Alocar Turma</h1>

  <h3>Turma</h3>
  <%= render partial: "school_rooms/show", locals: {school_room: @school_room} %>

  <%= hidden_field_tag :school_room, @school_room.id %>
  <br>
  <h3>Salas</h3>
  <br>
  <%if @coordinator_rooms.length != 0 %>
    <% @coordinator_rooms.each do |room| %>

      <!-- BLOCO CARD DA SALA <%= room.name %>-->
      <div id="Room-allocation-card">
        <div id="Room header">
          <%= render partial: "rooms/show", locals: {room: room} %>
        </div>
        <%= form_tag allocations_create_path do %>
          <table class="table table-hover time_grid" id="hours_table">
            <tr>
              <th>Horários</th>
              <% @days.each do |day| %>
                <td>
                  <strong><%= day %></strong>
                </td>
              <% end %>
            </tr>
            <% @hours.each do |hour| %>
              <tr>
                <td><b><%=hour%>:00</b></td>
              <% (0..5).each do |i| %>
                  <td>1</td>
              <% end %>
              </tr>
            <% end %>
          </table>
            <%= submit_tag "Salvar", class: 'pull-right btn btn-default btn-success' %>
            <br><br><br>
        <% end %>
      </div>
      <!-- FIM DO BLOCO CARD -->

    <% end %>
  <% else %>
    <h4>Nenhuma sala encontrada</h4>
  <% end %>
  <%= will_paginate @coordinator_rooms, renderer: BootstrapPagination::Rails %>
</div>
